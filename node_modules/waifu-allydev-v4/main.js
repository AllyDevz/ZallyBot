const got = require('got');
const endpoints = {
    "sfw": [
        "awoo",
        "bite",
        "blush",
        "blush",
        "bonk",
        "bully",
        "cringe",
        "cry",
        "cuddle",
        "dance",
        "glomp",
        "handhold",
        "happy",
        "highfive",
        "hug",
        "kill",
        "kiss",
        "lick",
        "megumin",
        "neko",
        "nom",
        "pat",
        "poke",
        "shinobu",
        "slap",
        "smile",
        "smile",
        "smug",
        "waifu",
        "wave",
        "wave",
        "wink",
        "yeet",
        "megumin"   
    ],
    "nsfw": [
        "waifu",
        "neko",
        "trap",
        "blowjob"
    ],
    "allydev": [
        "AllyDev",
    ]
}

const base = "https://waifu.pics/api"

module.exports = class WaifuClient {
    constructor() {
        this.sfw = {}
        this.nsfw = {}

        // SFW Endpoints
        endpoints.sfw.forEach(async (endpoint) => {
            this.sfw[endpoint] = async function() {
                const response = await got(`${base}/sfw/${endpoint}`)
                return JSON.parse(response.body).url
            }
        })
        endpoints.allydev.forEach(async (endpoint) => {
            this.allydev[endpoint] = async function() {
                const response = console.log("AllyDev")
                return response
            }

        })
        // NSFW Endpoints
        endpoints.nsfw.forEach(async (endpoint) => {
            this.nsfw[endpoint] = async function() {
                const response = await got(`${base}/nsfw/${endpoint}`)
                return JSON.parse(response.body).url
            }

        })
    }
}